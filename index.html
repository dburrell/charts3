<link href='http://fonts.googleapis.com/css?family=Roboto:400,300' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="style.css" />

<script src="scripts/jquery-2.1.3.min.js"></script>
<script src="scripts/conf.js"></script>
<script src="scripts/common.js"></script>

<script src="scripts/oDef.js"></script>
<script src="scripts/chart.js"></script>


<script type="text/javascript" src="scripts/prettify.js"></script>
<link href="prettify.css" type="text/css" rel="stylesheet" />


<body onload="prettyPrint()">
    
    <!--Example container div-->
    <table id="holdingTable" border=0>
        <tr>
            <!--DATA ON THE LEFT-->
            <td width=300px>
                <!--table with data in to fill the graph-->
                Sample data:
                <br>
                <table id="dataTable">
                    <tr>
                        <td></td>
                        <td><center>Groceries</center></td>
                        <td><center>Travel</center></td>
                        <td><center>Entertainment</center></td>
                    </tr>
                    <tr>
                        <td>Alice</td>
                        <td><center>$40.00</center></td>
                        <td><center>$20.00</center></td>
                        <td><center>$40.00</center></td>
                    </tr>
                    <tr>
                        <td>Bob</td>
                        <td><center>$60.00</center></td>
                        <td><center>$25.00</center></td>
                        <td><center>$10.00</center></td>
                    </tr>
                    <tr>
                        <td>Charlie</td>
                        <td><center>$50.00</center></td>
                        <td><center>$22.00</center></td>
                        <td><center>$60.00</center></td> 
                    </tr>
                </table>
            </td>
            
            <!--CHART IN THE MIDDLE -->
            <td  width=600px>                
                <div id="container"></div>
            </td>
                      
            <!--CONTROLS ON THE RIGHT -->      
            <td rowspan=1  width=300px>                 
                <input type="radio" name="chartType" value="DEFAULT" checked=true>Default<br>
                <input type="radio" name="chartType" value="BAR">Bar<br>
                <input type="radio" name="chartType" value="STACKEDBAR">Stacked Bar<br>
                <input type="radio" name="chartType" value="PIE">Pie<br>
                <input type="radio" name="chartType" value="DONUT">Donut<br>
                <input type="radio" name="chartType" value="POLAR">Polar<br>
                <button onclick="writeCode()">Draw</button>
            </td>
        </tr>
        <tr>
            <td></td>
            <!-- DYNAMIC CODE -->
            <td valign=top colspan=1>
                <br>Code:
                <pre id="code" class="prettyprint"></pre>
            </td>
            <td></td>
        </tr>
    </table>
    
    
   <a href="https://github.com/dburrell/jCharts" target="new"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://camo.githubusercontent.com/567c3a48d796e2fc06ea80409cc9dd82bf714434/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png"></a>
    <div id="footer"></div>
    <div class="footerLink"><a href="http://davidburrell.net" target="new">davidburrell.net</a></div>
    
</body>
<script>
    //var g = graph();
    //g.addSeries("History");
    //g.addSeries("Maths");
    
    //g.addRecord("Alice",[90,70]);
    //g.convertTable("#dataTable");
    var g = $('#dataTable').jChart({width:300, dsa:23});
    
    //g.settings.seriesTypes[1] = types.scatter;
    //g.draw();
    
    writeCode();
    
    function writeCode()
    {
        
        var defaultSeriesType = '';
        var seriesType = $("input[name=chartType]:checked").val();
        
        switch(seriesType)
        {
            case 'DEFAULT':
                seriesType = types.stackedBar;
                defaultSeriesType = "";
                break;
            case 'BAR':
                defaultSeriesType = ", defaultType: types.Bar";
                seriesType = types.bar;
                break;
            case 'STACKEDBAR':
                defaultSeriesType = ", defaultType: types.stackedBar";
                seriesType = types.stackedBar;
                break;
            case 'PIE':
                clog("pie");
                defaultSeriesType = ", defaultType: types.pie";
                seriesType = types.pie;
                break;
            case 'DONUT':
                defaultSeriesType = ", defaultType: types.donut";
                seriesType = types.donut;
                break;
            case 'POLAR':
                defaultSeriesType = ", defaultType: types.polar";
                seriesType = types.polar;
                break;
            default:
                seriesType = types.stackedBar;
                defaultSeriesType = "";
                break;
        }
        
        
        var code = "";
        
        ////////////////////////////////////////////////////////////////
        //Graph type
        ////////////////////////////////////////////////////////////////
        code += "//Make the graph object using data from the table" + "<br>"
        code += "var g = $('#dataTable').jChart({width:300 " + defaultSeriesType + "});" + "<br><br>";
        
        
        
        
        
        
        
        
        
        ////////////////////////////////////////////////////////////////
        //Create the new graph object
        ////////////////////////////////////////////////////////////////
        g.destroy();
        g = $('#dataTable').jChart({width:300, defaultType: seriesType});
        
        
        
        ////////////////////////////////////////////////////////////////
        //Draw the graph
        ////////////////////////////////////////////////////////////////
        g.init();
        g.draw();
        
        code += "//Draw the graph" + "<br>"
        code += "g.draw();";
        //prettify();
        $("#code").html(code);
        
        
        
        ////////////////////////////////////////////////////////////////
        //reprettify everything (see http://stackoverflow.com/questions/16127015/how-to-re-apply-prettyprint-after-run-prettify-js-has-been-loaded)
        ////////////////////////////////////////////////////////////////
        $(".prettyprinted").removeClass("prettyprinted");
        PR.prettyPrint();
    }
    
    
    
    
    
    
    
</script>